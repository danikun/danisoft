<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.danisoft.Mapper.ContactMapper">
	<select id="get" parameterType="int" resultType="org.danisoft.model.Contact">
		SELECT 
			* 
		FROM 
			Contact c  
			LEFT JOIN Person p ON c.id = p.contact 
			JOIN ContactType ct ON ct.id = c.contactType
		WHERE  
			ct.code = 'P'
			AND p.id = #{id}
	</select>
</mapper>